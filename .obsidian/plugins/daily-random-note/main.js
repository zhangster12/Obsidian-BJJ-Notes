/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Kt=Object.defineProperty;var io=Object.getOwnPropertyDescriptor;var no=Object.getOwnPropertyNames;var ao=Object.prototype.hasOwnProperty;var so=(t,e)=>{for(var o in e)Kt(t,o,{get:e[o],enumerable:!0})},lo=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of no(e))!ao.call(t,i)&&i!==o&&Kt(t,i,{get:()=>e[i],enumerable:!(r=io(e,i))||r.enumerable});return t};var po=t=>lo(Kt({},"__esModule",{value:!0}),t);var Go={};so(Go,{default:()=>Yt});module.exports=po(Go);var M=require("obsidian");var P="top",N="bottom",S="right",R="left",kt="auto",tt=[P,N,S,R],K="start",st="end",Oe="clippingParents",Ht="viewport",ht="popper",Re="reference",Qt=tt.reduce(function(t,e){return t.concat([e+"-"+K,e+"-"+st])},[]),jt=[].concat(tt,[kt]).reduce(function(t,e){return t.concat([e,e+"-"+K,e+"-"+st])},[]),fo="beforeRead",mo="read",uo="afterRead",co="beforeMain",go="main",ho="afterMain",vo="beforeWrite",yo="write",wo="afterWrite",Se=[fo,mo,uo,co,go,ho,vo,yo,wo];function A(t){return t?(t.nodeName||"").toLowerCase():null}function D(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function V(t){var e=D(t).Element;return t instanceof e||t instanceof Element}function C(t){var e=D(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vt(t){if(typeof ShadowRoot=="undefined")return!1;var e=D(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function xo(t){var e=t.state;Object.keys(e.elements).forEach(function(o){var r=e.styles[o]||{},i=e.attributes[o]||{},n=e.elements[o];!C(n)||!A(n)||(Object.assign(n.style,r),Object.keys(i).forEach(function(f){var a=i[f];a===!1?n.removeAttribute(f):n.setAttribute(f,a===!0?"":a)}))})}function bo(t){var e=t.state,o={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,o.popper),e.styles=o,e.elements.arrow&&Object.assign(e.elements.arrow.style,o.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],n=e.attributes[r]||{},f=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:o[r]),a=f.reduce(function(l,p){return l[p]="",l},{});!C(i)||!A(i)||(Object.assign(i.style,a),Object.keys(n).forEach(function(l){i.removeAttribute(l)}))})}}var Te={name:"applyStyles",enabled:!0,phase:"write",fn:xo,effect:bo,requires:["computeStyles"]};function F(t){return t.split("-")[0]}var U=Math.max,lt=Math.min,Q=Math.round;function yt(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Pt(){return!/^((?!chrome|android).)*safari/i.test(yt())}function $(t,e,o){e===void 0&&(e=!1),o===void 0&&(o=!1);var r=t.getBoundingClientRect(),i=1,n=1;e&&C(t)&&(i=t.offsetWidth>0&&Q(r.width)/t.offsetWidth||1,n=t.offsetHeight>0&&Q(r.height)/t.offsetHeight||1);var f=V(t)?D(t):window,a=f.visualViewport,l=!Pt()&&o,p=(r.left+(l&&a?a.offsetLeft:0))/i,s=(r.top+(l&&a?a.offsetTop:0))/n,d=r.width/i,y=r.height/n;return{width:d,height:y,top:s,right:p+d,bottom:s+y,left:p,x:p,y:s}}function pt(t){var e=$(t),o=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-o)<=1&&(o=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:r}}function Ot(t,e){var o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&vt(o)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function H(t){return D(t).getComputedStyle(t)}function Zt(t){return["table","td","th"].indexOf(A(t))>=0}function I(t){return((V(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z(t){return A(t)==="html"?t:t.assignedSlot||t.parentNode||(vt(t)?t.host:null)||I(t)}function Ne(t){return!C(t)||H(t).position==="fixed"?null:t.offsetParent}function Do(t){var e=/firefox/i.test(yt()),o=/Trident/i.test(yt());if(o&&C(t)){var r=H(t);if(r.position==="fixed")return null}var i=Z(t);for(vt(i)&&(i=i.host);C(i)&&["html","body"].indexOf(A(i))<0;){var n=H(i);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return i;i=i.parentNode}return null}function z(t){for(var e=D(t),o=Ne(t);o&&Zt(o)&&H(o).position==="static";)o=Ne(o);return o&&(A(o)==="html"||A(o)==="body"&&H(o).position==="static")?e:o||Do(t)||e}function ft(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function mt(t,e,o){return U(t,lt(e,o))}function Ce(t,e,o){var r=mt(t,e,o);return r>o?o:r}function Rt(){return{top:0,right:0,bottom:0,left:0}}function St(t){return Object.assign({},Rt(),t)}function Tt(t,e){return e.reduce(function(o,r){return o[r]=t,o},{})}var Eo=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,St(typeof e!="number"?e:Tt(e,tt))};function Po(t){var e,o=t.state,r=t.name,i=t.options,n=o.elements.arrow,f=o.modifiersData.popperOffsets,a=F(o.placement),l=ft(a),p=[R,S].indexOf(a)>=0,s=p?"height":"width";if(!(!n||!f)){var d=Eo(i.padding,o),y=pt(n),c=l==="y"?P:R,h=l==="y"?N:S,g=o.rects.reference[s]+o.rects.reference[l]-f[l]-o.rects.popper[s],m=f[l]-o.rects.reference[l],u=z(n),b=u?l==="y"?u.clientHeight||0:u.clientWidth||0:0,O=g/2-m/2,v=d[c],w=b-y[s]-d[h],x=b/2-y[s]/2+O,E=mt(v,x,w),B=l;o.modifiersData[r]=(e={},e[B]=E,e.centerOffset=E-x,e)}}function Oo(t){var e=t.state,o=t.options,r=o.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ot(e.elements.popper,i)&&(e.elements.arrow=i))}var Le={name:"arrow",enabled:!0,phase:"main",fn:Po,effect:Oo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q(t){return t.split("-")[1]}var Ro={top:"auto",right:"auto",bottom:"auto",left:"auto"};function So(t,e){var o=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Q(o*i)/i||0,y:Q(r*i)/i||0}}function Ae(t){var e,o=t.popper,r=t.popperRect,i=t.placement,n=t.variation,f=t.offsets,a=t.position,l=t.gpuAcceleration,p=t.adaptive,s=t.roundOffsets,d=t.isFixed,y=f.x,c=y===void 0?0:y,h=f.y,g=h===void 0?0:h,m=typeof s=="function"?s({x:c,y:g}):{x:c,y:g};c=m.x,g=m.y;var u=f.hasOwnProperty("x"),b=f.hasOwnProperty("y"),O=R,v=P,w=window;if(p){var x=z(o),E="clientHeight",B="clientWidth";if(x===D(o)&&(x=I(o),H(x).position!=="static"&&a==="absolute"&&(E="scrollHeight",B="scrollWidth")),x=x,i===P||(i===R||i===S)&&n===st){v=N;var L=d&&x===w&&w.visualViewport?w.visualViewport.height:x[E];g-=L-r.height,g*=l?1:-1}if(i===R||(i===P||i===N)&&n===st){O=S;var T=d&&x===w&&w.visualViewport?w.visualViewport.width:x[B];c-=T-r.width,c*=l?1:-1}}var W=Object.assign({position:a},p&&Ro),X=s===!0?So({x:c,y:g},D(o)):{x:c,y:g};if(c=X.x,g=X.y,l){var k;return Object.assign({},W,(k={},k[v]=b?"0":"",k[O]=u?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+c+"px, "+g+"px)":"translate3d("+c+"px, "+g+"px, 0)",k))}return Object.assign({},W,(e={},e[v]=b?g+"px":"",e[O]=u?c+"px":"",e.transform="",e))}function To(t){var e=t.state,o=t.options,r=o.gpuAcceleration,i=r===void 0?!0:r,n=o.adaptive,f=n===void 0?!0:n,a=o.roundOffsets,l=a===void 0?!0:a,p={placement:F(e.placement),variation:q(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ae(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:f,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ae(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Fe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:To,data:{}};var Vt={passive:!0};function No(t){var e=t.state,o=t.instance,r=t.options,i=r.scroll,n=i===void 0?!0:i,f=r.resize,a=f===void 0?!0:f,l=D(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&p.forEach(function(s){s.addEventListener("scroll",o.update,Vt)}),a&&l.addEventListener("resize",o.update,Vt),function(){n&&p.forEach(function(s){s.removeEventListener("scroll",o.update,Vt)}),a&&l.removeEventListener("resize",o.update,Vt)}}var Me={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:No,data:{}};var Co={left:"right",right:"left",bottom:"top",top:"bottom"};function wt(t){return t.replace(/left|right|bottom|top/g,function(e){return Co[e]})}var Lo={start:"end",end:"start"};function $t(t){return t.replace(/start|end/g,function(e){return Lo[e]})}function ut(t){var e=D(t),o=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:o,scrollTop:r}}function dt(t){return $(I(t)).left+ut(t).scrollLeft}function _t(t,e){var o=D(t),r=I(t),i=o.visualViewport,n=r.clientWidth,f=r.clientHeight,a=0,l=0;if(i){n=i.width,f=i.height;var p=Pt();(p||!p&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:n,height:f,x:a+dt(t),y:l}}function te(t){var e,o=I(t),r=ut(t),i=(e=t.ownerDocument)==null?void 0:e.body,n=U(o.scrollWidth,o.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),f=U(o.scrollHeight,o.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dt(t),l=-r.scrollTop;return H(i||o).direction==="rtl"&&(a+=U(o.clientWidth,i?i.clientWidth:0)-n),{width:n,height:f,x:a,y:l}}function ct(t){var e=H(t),o=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(o+i+r)}function qt(t){return["html","body","#document"].indexOf(A(t))>=0?t.ownerDocument.body:C(t)&&ct(t)?t:qt(Z(t))}function et(t,e){var o;e===void 0&&(e=[]);var r=qt(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),n=D(r),f=i?[n].concat(n.visualViewport||[],ct(r)?r:[]):r,a=e.concat(f);return i?a:a.concat(et(Z(f)))}function xt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ao(t,e){var o=$(t,!1,e==="fixed");return o.top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o}function Be(t,e,o){return e===Ht?xt(_t(t,o)):V(e)?Ao(e,o):xt(te(I(t)))}function Fo(t){var e=et(Z(t)),o=["absolute","fixed"].indexOf(H(t).position)>=0,r=o&&C(t)?z(t):t;return V(r)?e.filter(function(i){return V(i)&&Ot(i,r)&&A(i)!=="body"}):[]}function ee(t,e,o,r){var i=e==="clippingParents"?Fo(t):[].concat(e),n=[].concat(i,[o]),f=n[0],a=n.reduce(function(l,p){var s=Be(t,p,r);return l.top=U(s.top,l.top),l.right=lt(s.right,l.right),l.bottom=lt(s.bottom,l.bottom),l.left=U(s.left,l.left),l},Be(t,f,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Nt(t){var e=t.reference,o=t.element,r=t.placement,i=r?F(r):null,n=r?q(r):null,f=e.x+e.width/2-o.width/2,a=e.y+e.height/2-o.height/2,l;switch(i){case P:l={x:f,y:e.y-o.height};break;case N:l={x:f,y:e.y+e.height};break;case S:l={x:e.x+e.width,y:a};break;case R:l={x:e.x-o.width,y:a};break;default:l={x:e.x,y:e.y}}var p=i?ft(i):null;if(p!=null){var s=p==="y"?"height":"width";switch(n){case K:l[p]=l[p]-(e[s]/2-o[s]/2);break;case st:l[p]=l[p]+(e[s]/2-o[s]/2);break;default:}}return l}function G(t,e){e===void 0&&(e={});var o=e,r=o.placement,i=r===void 0?t.placement:r,n=o.strategy,f=n===void 0?t.strategy:n,a=o.boundary,l=a===void 0?Oe:a,p=o.rootBoundary,s=p===void 0?Ht:p,d=o.elementContext,y=d===void 0?ht:d,c=o.altBoundary,h=c===void 0?!1:c,g=o.padding,m=g===void 0?0:g,u=St(typeof m!="number"?m:Tt(m,tt)),b=y===ht?Re:ht,O=t.rects.popper,v=t.elements[h?b:y],w=ee(V(v)?v:v.contextElement||I(t.elements.popper),l,s,f),x=$(t.elements.reference),E=Nt({reference:x,element:O,strategy:"absolute",placement:i}),B=xt(Object.assign({},O,E)),L=y===ht?B:x,T={top:w.top-L.top+u.top,bottom:L.bottom-w.bottom+u.bottom,left:w.left-L.left+u.left,right:L.right-w.right+u.right},W=t.modifiersData.offset;if(y===ht&&W){var X=W[i];Object.keys(T).forEach(function(k){var ot=[S,N].indexOf(k)>=0?1:-1,rt=[P,N].indexOf(k)>=0?"y":"x";T[k]+=X[rt]*ot})}return T}function oe(t,e){e===void 0&&(e={});var o=e,r=o.placement,i=o.boundary,n=o.rootBoundary,f=o.padding,a=o.flipVariations,l=o.allowedAutoPlacements,p=l===void 0?jt:l,s=q(r),d=s?a?Qt:Qt.filter(function(h){return q(h)===s}):tt,y=d.filter(function(h){return p.indexOf(h)>=0});y.length===0&&(y=d);var c=y.reduce(function(h,g){return h[g]=G(t,{placement:g,boundary:i,rootBoundary:n,padding:f})[F(g)],h},{});return Object.keys(c).sort(function(h,g){return c[h]-c[g]})}function Mo(t){if(F(t)===kt)return[];var e=wt(t);return[$t(t),e,$t(e)]}function Bo(t){var e=t.state,o=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=o.mainAxis,n=i===void 0?!0:i,f=o.altAxis,a=f===void 0?!0:f,l=o.fallbackPlacements,p=o.padding,s=o.boundary,d=o.rootBoundary,y=o.altBoundary,c=o.flipVariations,h=c===void 0?!0:c,g=o.allowedAutoPlacements,m=e.options.placement,u=F(m),b=u===m,O=l||(b||!h?[wt(m)]:Mo(m)),v=[m].concat(O).reduce(function(gt,_){return gt.concat(F(_)===kt?oe(e,{placement:_,boundary:s,rootBoundary:d,padding:p,flipVariations:h,allowedAutoPlacements:g}):_)},[]),w=e.rects.reference,x=e.rects.popper,E=new Map,B=!0,L=v[0],T=0;T<v.length;T++){var W=v[T],X=F(W),k=q(W)===K,ot=[P,N].indexOf(X)>=0,rt=ot?"width":"height",j=G(e,{placement:W,boundary:s,rootBoundary:d,altBoundary:y,padding:p}),Y=ot?k?S:R:k?N:P;w[rt]>x[rt]&&(Y=wt(Y));var Ft=wt(Y),it=[];if(n&&it.push(j[X]<=0),a&&it.push(j[Y]<=0,j[Ft]<=0),it.every(function(gt){return gt})){L=W,B=!1;break}E.set(W,it)}if(B)for(var Mt=h?3:1,Ut=function(_){var Et=v.find(function(It){var nt=E.get(It);if(nt)return nt.slice(0,_).every(function(zt){return zt})});if(Et)return L=Et,"break"},Dt=Mt;Dt>0;Dt--){var Bt=Ut(Dt);if(Bt==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}var Ie={name:"flip",enabled:!0,phase:"main",fn:Bo,requiresIfExists:["offset"],data:{_skip:!1}};function We(t,e,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-e.height-o.y,right:t.right-e.width+o.x,bottom:t.bottom-e.height+o.y,left:t.left-e.width-o.x}}function ke(t){return[P,S,N,R].some(function(e){return t[e]>=0})}function Io(t){var e=t.state,o=t.name,r=e.rects.reference,i=e.rects.popper,n=e.modifiersData.preventOverflow,f=G(e,{elementContext:"reference"}),a=G(e,{altBoundary:!0}),l=We(f,r),p=We(a,i,n),s=ke(l),d=ke(p);e.modifiersData[o]={referenceClippingOffsets:l,popperEscapeOffsets:p,isReferenceHidden:s,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":d})}var He={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Io};function Wo(t,e,o){var r=F(t),i=[R,P].indexOf(r)>=0?-1:1,n=typeof o=="function"?o(Object.assign({},e,{placement:t})):o,f=n[0],a=n[1];return f=f||0,a=(a||0)*i,[R,S].indexOf(r)>=0?{x:a,y:f}:{x:f,y:a}}function ko(t){var e=t.state,o=t.options,r=t.name,i=o.offset,n=i===void 0?[0,0]:i,f=jt.reduce(function(s,d){return s[d]=Wo(d,e.rects,n),s},{}),a=f[e.placement],l=a.x,p=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=f}var je={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ko};function Ho(t){var e=t.state,o=t.name;e.modifiersData[o]=Nt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ve={name:"popperOffsets",enabled:!0,phase:"read",fn:Ho,data:{}};function re(t){return t==="x"?"y":"x"}function jo(t){var e=t.state,o=t.options,r=t.name,i=o.mainAxis,n=i===void 0?!0:i,f=o.altAxis,a=f===void 0?!1:f,l=o.boundary,p=o.rootBoundary,s=o.altBoundary,d=o.padding,y=o.tether,c=y===void 0?!0:y,h=o.tetherOffset,g=h===void 0?0:h,m=G(e,{boundary:l,rootBoundary:p,padding:d,altBoundary:s}),u=F(e.placement),b=q(e.placement),O=!b,v=ft(u),w=re(v),x=e.modifiersData.popperOffsets,E=e.rects.reference,B=e.rects.popper,L=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,T=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(x){if(n){var k,ot=v==="y"?P:R,rt=v==="y"?N:S,j=v==="y"?"height":"width",Y=x[v],Ft=Y+m[ot],it=Y-m[rt],Mt=c?-B[j]/2:0,Ut=b===K?E[j]:B[j],Dt=b===K?-B[j]:-E[j],Bt=e.elements.arrow,gt=c&&Bt?pt(Bt):{width:0,height:0},_=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Rt(),Et=_[ot],It=_[rt],nt=mt(0,E[j],gt[j]),zt=O?E[j]/2-Mt-nt-Et-T.mainAxis:Ut-nt-Et-T.mainAxis,Ze=O?-E[j]/2+Mt+nt+It+T.mainAxis:Dt+nt+It+T.mainAxis,Gt=e.elements.arrow&&z(e.elements.arrow),_e=Gt?v==="y"?Gt.clientTop||0:Gt.clientLeft||0:0,he=(k=W==null?void 0:W[v])!=null?k:0,to=Y+zt-he-_e,eo=Y+Ze-he,ve=mt(c?lt(Ft,to):Ft,Y,c?U(it,eo):it);x[v]=ve,X[v]=ve-Y}if(a){var ye,oo=v==="x"?P:R,ro=v==="x"?N:S,at=x[w],Wt=w==="y"?"height":"width",we=at+m[oo],xe=at-m[ro],Jt=[P,R].indexOf(u)!==-1,be=(ye=W==null?void 0:W[w])!=null?ye:0,De=Jt?we:at-E[Wt]-B[Wt]-be+T.altAxis,Ee=Jt?at+E[Wt]+B[Wt]-be-T.altAxis:xe,Pe=c&&Jt?Ce(De,at,Ee):mt(c?De:we,at,c?Ee:xe);x[w]=Pe,X[w]=Pe-at}e.modifiersData[r]=X}}var $e={name:"preventOverflow",enabled:!0,phase:"main",fn:jo,requiresIfExists:["offset"]};function ie(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ne(t){return t===D(t)||!C(t)?ut(t):ie(t)}function Vo(t){var e=t.getBoundingClientRect(),o=Q(e.width)/t.offsetWidth||1,r=Q(e.height)/t.offsetHeight||1;return o!==1||r!==1}function ae(t,e,o){o===void 0&&(o=!1);var r=C(e),i=C(e)&&Vo(e),n=I(e),f=$(t,i,o),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!o)&&((A(e)!=="body"||ct(n))&&(a=ne(e)),C(e)?(l=$(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):n&&(l.x=dt(n))),{x:f.left+a.scrollLeft-l.x,y:f.top+a.scrollTop-l.y,width:f.width,height:f.height}}function $o(t){var e=new Map,o=new Set,r=[];t.forEach(function(n){e.set(n.name,n)});function i(n){o.add(n.name);var f=[].concat(n.requires||[],n.requiresIfExists||[]);f.forEach(function(a){if(!o.has(a)){var l=e.get(a);l&&i(l)}}),r.push(n)}return t.forEach(function(n){o.has(n.name)||i(n)}),r}function se(t){var e=$o(t);return Se.reduce(function(o,r){return o.concat(e.filter(function(i){return i.phase===r}))},[])}function le(t){var e;return function(){return e||(e=new Promise(function(o){Promise.resolve().then(function(){e=void 0,o(t())})})),e}}function pe(t){var e=t.reduce(function(o,r){var i=o[r.name];return o[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,o},{});return Object.keys(e).map(function(o){return e[o]})}var qe={placement:"bottom",modifiers:[],strategy:"absolute"};function Xe(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ye(t){t===void 0&&(t={});var e=t,o=e.defaultModifiers,r=o===void 0?[]:o,i=e.defaultOptions,n=i===void 0?qe:i;return function(a,l,p){p===void 0&&(p=n);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},qe,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],y=!1,c={state:s,setOptions:function(u){var b=typeof u=="function"?u(s.options):u;g(),s.options=Object.assign({},n,s.options,b),s.scrollParents={reference:V(a)?et(a):a.contextElement?et(a.contextElement):[],popper:et(l)};var O=se(pe([].concat(r,s.options.modifiers)));return s.orderedModifiers=O.filter(function(v){return v.enabled}),h(),c.update()},forceUpdate:function(){if(!y){var u=s.elements,b=u.reference,O=u.popper;if(Xe(b,O)){s.rects={reference:ae(b,z(O),s.options.strategy==="fixed"),popper:pt(O)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(T){return s.modifiersData[T.name]=Object.assign({},T.data)});for(var v=0;v<s.orderedModifiers.length;v++){if(s.reset===!0){s.reset=!1,v=-1;continue}var w=s.orderedModifiers[v],x=w.fn,E=w.options,B=E===void 0?{}:E,L=w.name;typeof x=="function"&&(s=x({state:s,options:B,name:L,instance:c})||s)}}}},update:le(function(){return new Promise(function(m){c.forceUpdate(),m(s)})}),destroy:function(){g(),y=!0}};if(!Xe(a,l))return c;c.setOptions(p).then(function(m){!y&&p.onFirstUpdate&&p.onFirstUpdate(m)});function h(){s.orderedModifiers.forEach(function(m){var u=m.name,b=m.options,O=b===void 0?{}:b,v=m.effect;if(typeof v=="function"){var w=v({state:s,name:u,instance:c,options:O}),x=function(){};d.push(w||x)}})}function g(){d.forEach(function(m){return m()}),d=[]}return c}}var qo=[Me,Ve,Fe,Te,je,Ie,$e,Le,He],Ct=Ye({defaultModifiers:qo});var J=require("obsidian");function Ue(t,e){if(t>=e)throw new Error("The min value must be less than the max value");return Math.floor(Math.random()*(e-t))+t}function bt(t,e,o){let r=ue(e,!1);return t.vault.getAllFolders(!0).map(i=>i.path).filter(i=>{let n=o.split(",").map(a=>a.trim()),f=n[n.length-1];return(r.indexOf(i)==-1||f==i)&&i.includes(f)})}function me(t,e){let o=ue(t,!0);return o.length==0?o.push(e):o[o.length-1]=e,Xo(o)}function ue(t,e){if(t==""||t==null)return[];let o=t.split(",").map(r=>r.trim());return!e&&o[o.length-1]==""&&o.pop(),o}function Xo(t){let e="";return t.forEach(o=>{e+=o,e+=", "}),e}async function ze(t,e,o,r,i,n){let f=ue(e,!0),a=[];n?f.forEach(l=>{a.push(...fe(t,l,o,r))}):Yo(t,f).forEach(p=>{a.push(...fe(t,p,o,r))});try{if(a.length==0)throw"No files found";let l=a[Ue(0,a.length)];await Uo(t,l)}catch(l){l=="No files found"?new J.Notice(i+": No files found."):(console.error(l),new J.Notice(i+": Error opening file."))}}function Yo(t,e){let o=t.vault.getAllFolders(!0).map(i=>i.path),r=[];return e.forEach(i=>{r.push(...Ge(t,i))}),r.forEach(i=>{let n=o.indexOf(i);n!=-1&&o.splice(n,1)}),o}function Ge(t,e){let o=t.vault.getAbstractFileByPath(e);if(!(o instanceof J.TFolder))return[];let r=[e];return o.children.forEach(i=>{i instanceof J.TFolder&&r.push(...Ge(t,i.path))}),r}function fe(t,e,o,r){let i=t.vault.getAbstractFileByPath(e),n=[];if(i instanceof J.TFolder)i.children.forEach(f=>{n.push(...fe(t,f.path,o,r))});else if(i instanceof J.TFile){let f=i;if(o=="")n.push(f.path);else{let a=o.split(",").map(p=>p.trim()).filter(p=>p!=""),l=t.metadataCache.getFileCache(f);if(!(l!=null&&l.tags))return n;if(r){let p=a.length;l.tags.forEach(s=>{a.includes(s.tag)&&p--}),p==0&&n.push(f.path)}else l.tags.forEach(p=>{if(a.includes(p.tag))return n.push(f.path),n})}}return n}async function Uo(t,e){let o=t.vault.getAbstractFileByPath(e);if(o&&o instanceof J.TFile)await t.workspace.getLeaf("tab").openFile(o);else throw`File not found at path: ${e}`}function Lt(t){return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()}function de(t){let e=new Date,o=t.split("/");return e.setDate(parseInt(o[0])),e.setMonth(parseInt(o[1])),e.setFullYear(parseInt(o[2])),e}function At(){let t=new Date,e=new Date(t);return e.setDate(t.getDate()+1),Lt(e)}function Je(t,e){let o=t.split("/"),r=e.split("/"),i=new Date(parseInt(o[2]),parseInt(o[1]),parseInt(o[0])),n=new Date(parseInt(r[2]),parseInt(r[1]),parseInt(r[0]));return i<n?-1:i>n?1:0}function Ke(t,e){return t[0]>e[0]?!0:t[0]<e[0]?!1:t[1]>=e[1]}function Xt(t,e){let o=t.getTime()-e.getTime(),r=Math.floor(o/1e3),i=Math.floor(Math.abs(r)/3600),n=Math.floor(Math.abs(r)%3600/60),f=Math.abs(r)%60;return[i,n,f]}function Qe(t,e,o){return[String(t).padStart(2,"0"),String(e).padStart(2,"0"),String(o).padStart(2,"0")].join(":")}var ce="open-random-note-from-",zo={randomInstances:[],nextRandomNotesDay:At(),timeToResetDailyRandomNotes:[8,0],previousCommandIDs:[]},Yt=class extends M.Plugin{constructor(){super(...arguments);this.popperInstance=null;this.dropdown=null;this.isRandomNoteSuggestionsOpened=!1;this.outsideClickListener=null;this.currentTimeDif="";this.settingsTab=null}async onload(){await this.loadSettings(),await this.fixRandomInstancesWithNoCmdID();let o=this.addRibbonIcon("dices","Daily Random Note",r=>{var i,n;this.isRandomNoteSuggestionsOpened?((i=this.dropdown)==null||i.remove(),(n=this.popperInstance)==null||n.destroy(),this.outsideClickListener&&document.removeEventListener("mousedown",this.outsideClickListener),this.isRandomNoteSuggestionsOpened=!1):(this.isRandomNoteSuggestionsOpened=!0,this.dropdown=document.createElement("div"),this.dropdown.classList.add("suggestion-container","my-scrollable-suggestions","folder-paths-suggestions"),document.body.appendChild(this.dropdown),this.popperInstance=Ct(o,this.dropdown,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),this.settings.randomInstances.forEach(f=>{var l;let a=document.createElement("div");a.addEventListener("mouseover",()=>a.classList.add("is-hovering-suggestion")),a.addEventListener("mouseout",()=>a.classList.remove("is-hovering-suggestion")),a.classList.add("suggestion-item"),a.textContent=f.name,a.addEventListener("mousedown",()=>{var p,s;this.openRandomNoteWithInstance(f),(p=this.dropdown)==null||p.remove(),(s=this.popperInstance)==null||s.destroy(),this.isRandomNoteSuggestionsOpened=!1}),(l=this.dropdown)==null||l.appendChild(a)}),this.outsideClickListener=f=>{var a,l,p;!((a=this.dropdown)!=null&&a.contains(f.target))&&f.target!==o&&((l=this.dropdown)==null||l.remove(),(p=this.popperInstance)==null||p.destroy(),this.outsideClickListener&&document.removeEventListener("mousedown",this.outsideClickListener),this.isRandomNoteSuggestionsOpened=!1)},document.addEventListener("mousedown",this.outsideClickListener))});this.settingsTab=new ge(this.app,this),this.addSettingTab(this.settingsTab),this.updateCommandPalette(),this.app.workspace.onLayoutReady(()=>{this.registerInterval(window.setInterval(()=>this.checkTimeAndOpenRandomNotes(),1e3*5)),this.registerInterval(window.setInterval(()=>{var n;let r=this.getDailyRandomNoteResetTime(),i=Xt(new Date,r);this.currentTimeDif=Qe(i[0],i[1],i[2]),(n=this.settingsTab)==null||n.updateTimeDisplay()},1e3))})}updateCommandPalette(){this.settings.previousCommandIDs.forEach(o=>{this.removeCommand(o)}),this.settings.previousCommandIDs=[],this.settings.randomInstances.forEach(o=>{this.settings.previousCommandIDs.push(o.commandID),this.addCommand({id:o.commandID,name:`Open one '${o.name}'`,callback:async()=>{this.openRandomNoteWithInstance(o)}})})}async fixRandomInstancesWithNoCmdID(){let o=!1;this.settings.randomInstances.forEach(r=>{r.commandID||(o=!0,r.commandID=`${ce}${r.name}`)}),o&&await this.saveSettings()}getDailyRandomNoteResetTime(){let o=this.settings.nextRandomNotesDay.split("/"),r=new Date;return r.setDate(parseInt(o[0])),r.setMonth(parseInt(o[1])),r.setFullYear(parseInt(o[2])),r.setHours(this.settings.timeToResetDailyRandomNotes[0]),r.setMinutes(this.settings.timeToResetDailyRandomNotes[1]),r.setSeconds(0),r}async checkTimeAndOpenRandomNotes(){let o=Lt(new Date),r=Je(o,this.settings.nextRandomNotesDay);(r==1||r==0&&Ke([new Date().getHours(),new Date().getMinutes()],this.settings.timeToResetDailyRandomNotes))&&(this.settings.randomInstances.forEach(i=>{i.openOnStartup&&this.openRandomNote(i)}),this.settings.nextRandomNotesDay=At(),await this.saveSettings())}openRandomNoteWithInstance(o){let r=o.excludePaths!=null&&o.excludePaths!="",i=r?o.excludePaths:o.includePaths,n=o.useTags?o.tags:"";ze(this.app,i,n,o.allTagsRequired,o.name,!r)}openRandomNote(o){this.openRandomNoteWithInstance(o)}onunload(){}async loadSettings(){this.settings=Object.assign({},zo,await this.loadData())}async saveSettings(){this.updateCommandPalette(),await this.saveData(this.settings)}},ge=class extends M.PluginSettingTab{constructor(o,r){super(o,r);this.includedFoldersPopperInstance=null;this.excludedFoldersPopperInstance=null;this.suggestionFolderPaths=[];this.timeLeftSetting=null;this.plugin=r}display(){let{containerEl:o}=this;o.empty();let i=new M.Setting(o).setName("Daily note reset time").setDesc("Select the time at which the daily timer resets.").controlEl.createDiv();i.addClass("time-select-container");let n=document.createElement("select");for(let p=0;p<24;p++){let s=document.createElement("option");s.value=p.toString(),s.textContent=p.toString().padStart(2,"0"),n.appendChild(s)}i.appendChild(n);let f=document.createElement("span");f.textContent=":",f.addClass("time-colon"),i.appendChild(f);let a=document.createElement("select");for(let p=0;p<60;p+=1){let s=document.createElement("option");s.value=p.toString(),s.textContent=p.toString().padStart(2,"0"),a.appendChild(s)}i.appendChild(a),n.value=this.plugin.settings.timeToResetDailyRandomNotes[0].toString(),a.value=this.plugin.settings.timeToResetDailyRandomNotes[1].toString(),n.addEventListener("change",async()=>{this.plugin.settings.timeToResetDailyRandomNotes[0]=parseInt(n.value),Xt(new Date,this.plugin.getDailyRandomNoteResetTime())[0]>=24&&(this.plugin.settings.nextRandomNotesDay=Lt(new Date));let s=de(this.plugin.settings.nextRandomNotesDay),d=new Date;(s.getDate()==d.getDate()&&this.plugin.settings.timeToResetDailyRandomNotes[0]<d.getHours()||this.plugin.settings.timeToResetDailyRandomNotes[0]==d.getHours()&&this.plugin.settings.timeToResetDailyRandomNotes[1]<d.getMinutes())&&(this.plugin.settings.nextRandomNotesDay=At()),await this.plugin.saveSettings()}),a.addEventListener("change",async()=>{this.plugin.settings.timeToResetDailyRandomNotes[1]=parseInt(a.value),Xt(new Date,this.plugin.getDailyRandomNoteResetTime())[0]>=24&&(this.plugin.settings.nextRandomNotesDay=Lt(new Date));let s=de(this.plugin.settings.nextRandomNotesDay),d=new Date;(s.getDate()==d.getDate()&&this.plugin.settings.timeToResetDailyRandomNotes[0]<d.getHours()||this.plugin.settings.timeToResetDailyRandomNotes[0]==d.getHours()&&this.plugin.settings.timeToResetDailyRandomNotes[1]<d.getMinutes())&&(this.plugin.settings.nextRandomNotesDay=At()),await this.plugin.saveSettings()}),this.timeLeftSetting=new M.Setting(o).setName("Time left: ").setDesc("Time until daily random notes resets.").setClass("setting-item-name").settingEl,this.updateTimeDisplay(),new M.Setting(o).setName("Manage random instances").setHeading(),new M.Setting(o).setName("Add one random instance").addButton(p=>p.setButtonText("Add new").setCta().onClick(async()=>{let s="New Random Instance";this.plugin.settings.randomInstances.push({name:s,includePaths:"",excludePaths:"",openOnStartup:!0,useTags:!1,tags:"",allTagsRequired:!0,isTabOpen:!0,commandID:`${ce}${s}`}),await this.plugin.saveSettings(),this.display()})).settingEl.addClass("add-instance-button"),this.plugin.settings.randomInstances.forEach((p,s)=>{let d=o.createDiv();d.addClass("instance-container");let y=d.createDiv();y.addClass("collapsible-container-header"),new M.Setting(y).setName(`${p.name}`).setHeading();let c=y.createEl("button",{text:p.isTabOpen?"\u25BC":"\u25BA"}),h=d.createDiv();p.isTabOpen?(h.classList.add("instance-tab-open"),h.classList.remove("instance-tab-closed")):(h.classList.add("instance-tab-closed"),h.classList.remove("instance-tab-open")),c.addEventListener("click",async()=>{h.hasClass("instance-tab-open")?(h.classList.add("instance-tab-closed"),h.classList.remove("instance-tab-open"),this.plugin.settings.randomInstances[s].isTabOpen=!1,await this.plugin.saveSettings(),c.textContent="\u25BA"):(h.classList.add("instance-tab-open"),h.classList.remove("instance-tab-closed"),this.plugin.settings.randomInstances[s].isTabOpen=!0,await this.plugin.saveSettings(),c.textContent="\u25BC")}),new M.Setting(h).setName("Name").addText(m=>{m.setPlaceholder("Insert name.").setValue(p.name).onChange(async u=>{this.plugin.settings.randomInstances[s].name=u,this.plugin.settings.randomInstances[s].commandID=`${ce}${u}`,await this.plugin.saveSettings()}),m.inputEl.addEventListener("blur",()=>{this.display()})}),new M.Setting(h).setName("Open on startup/reset?").setDesc("If toggled on, when the reset time hits 0, random files from this instance will automatically open.").addToggle(async m=>{m.setValue(p.openOnStartup).onChange(async u=>{this.plugin.settings.randomInstances[s].openOnStartup=u,await this.plugin.saveSettings()})}),new M.Setting(h).setName("Include folders").setDesc('Included paths to folders, separated by ","').addText(m=>{m.setPlaceholder("/example/one, /example/two").setValue(p.includePaths).onChange(async u=>{this.plugin.settings.randomInstances[s].includePaths=u,await this.plugin.saveSettings(),this.suggestionFolderPaths=bt(this.app,this.plugin.settings.randomInstances[s].includePaths,u),this.resetDropdown(),this.populateDropdown(m,s,!0)}),m.inputEl.addEventListener("focus",async()=>{this.suggestionFolderPaths=bt(this.app,this.plugin.settings.randomInstances[s].includePaths,m.getValue()),this.showSuggestions(m,s,!0)}),m.inputEl.addEventListener("blur",()=>{var u;(u=this.includedFoldersPopperInstance)==null||u.destroy(),Array.from(document.getElementsByClassName("folder-paths-suggestions")).forEach(b=>{b.remove()})})}),new M.Setting(h).setName("Exclude folders").setDesc('Excluded paths to folders, separated by "," (if this field is NOT empty, obsidian will search for every single file in your vault EXCEPT the folders specified here. "Include Folders" will be ignored as well.)').addText(m=>{m.setPlaceholder("/example/one, /example/two").setValue(p.excludePaths).onChange(async u=>{this.plugin.settings.randomInstances[s].excludePaths=u,await this.plugin.saveSettings(),this.suggestionFolderPaths=bt(this.app,this.plugin.settings.randomInstances[s].excludePaths,u),this.resetDropdown(),this.populateDropdown(m,s,!1)}),m.inputEl.addEventListener("focus",async()=>{this.suggestionFolderPaths=bt(this.app,this.plugin.settings.randomInstances[s].excludePaths,m.getValue()),this.showSuggestions(m,s,!1)}),m.inputEl.addEventListener("blur",()=>{var u;(u=this.excludedFoldersPopperInstance)==null||u.destroy(),Array.from(document.getElementsByClassName("folder-paths-suggestions")).forEach(b=>{b.remove()})})}),new M.Setting(h).setName("Use tags for filtering?").addToggle(async m=>{m.setValue(p.useTags).onChange(async u=>{this.plugin.settings.randomInstances[s].useTags=u,await this.plugin.saveSettings(),u?(g.classList.add("instance-tags-open"),g.classList.remove("instance-tags-closed")):(g.classList.add("instance-tags-closed"),g.classList.remove("instance-tags-open"))})});let g=h.createDiv();p.useTags?(g.classList.add("instance-tags-open"),g.classList.remove("instance-tags-closed")):(g.classList.add("instance-tags-closed"),g.classList.remove("instance-tags-open")),new M.Setting(g).setName("All tags required?").setDesc("If toggled on, obsidian will only search for files containing ALL tags simultaneously. Otherwise any file containing at least one of the tags will be considered valid.").addToggle(async m=>{m.setValue(p.allTagsRequired).onChange(async u=>{this.plugin.settings.randomInstances[s].allTagsRequired=u,await this.plugin.saveSettings()})}),new M.Setting(g).setName("Tags").setDesc('Insert tags, separated by ","').addText(m=>{m.setPlaceholder("#exampletag1, #exampletag2").setValue(this.plugin.settings.randomInstances[s].tags).onChange(async u=>{this.plugin.settings.randomInstances[s].tags=u,await this.plugin.saveSettings()}),m.inputEl.addEventListener("focus",async()=>{this.suggestionFolderPaths=bt(this.app,this.plugin.settings.randomInstances[s].tags,m.getValue())}),m.inputEl.addEventListener("blur",()=>{var u;(u=this.excludedFoldersPopperInstance)==null||u.destroy(),Array.from(document.getElementsByClassName("folder-paths-suggestions")).forEach(b=>{b.remove()})})}),new M.Setting(h).setName('Delete "'+p.name+'"').addButton(m=>m.setButtonText("Delete").setWarning().onClick(async()=>{this.plugin.settings.randomInstances.splice(s,1),await this.plugin.saveSettings(),this.display()}))})}close(){var o,r;(o=this.includedFoldersPopperInstance)==null||o.destroy(),(r=this.excludedFoldersPopperInstance)==null||r.destroy()}updateTimeDisplay(){if(this.timeLeftSetting){let o=this.timeLeftSetting.querySelector(".setting-item-name");o&&(o.textContent=`Time left: ${this.plugin.currentTimeDif}`)}}showSuggestions(o,r,i){let n=document.createElement("div");n.classList.add("suggestion-container","my-scrollable-suggestions","folder-paths-suggestions"),document.body.appendChild(n),i?this.includedFoldersPopperInstance=Ct(o.inputEl,n,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}):this.excludedFoldersPopperInstance=Ct(o.inputEl,n,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),this.populateDropdown(o,r,i)}resetDropdown(){document.getElementsByClassName("folder-paths-suggestions")[0].empty()}populateDropdown(o,r,i){let n=document.getElementsByClassName("folder-paths-suggestions")[0];this.suggestionFolderPaths.forEach(f=>{let a=document.createElement("div");a.addEventListener("mouseover",()=>a.classList.add("is-hovering-suggestion")),a.addEventListener("mouseout",()=>a.classList.remove("is-hovering-suggestion")),a.classList.add("suggestion-item"),a.textContent=f,a.addEventListener("mousedown",async l=>{var p;if(l.preventDefault(),i){let s=me(this.plugin.settings.randomInstances[r].includePaths,f);o.setValue(s),this.plugin.settings.randomInstances[r].includePaths=s}else{let s=me(this.plugin.settings.randomInstances[r].excludePaths,f);o.setValue(s),this.plugin.settings.randomInstances[r].excludePaths=s}await this.plugin.saveSettings(),n.remove(),(p=this.includedFoldersPopperInstance)==null||p.destroy(),o.inputEl.blur()}),n.appendChild(a)})}};

/* nosourcemap */